<html>
  <head>
    <link rel="stylesheet" href="/static/todo.css">
  </head>
  <body>
    <section class="new-todo">
      <h1>Todo MVP</h1>

      <form method="POST">
        <label for="new-item">New item name</label>
        <input type="text"
               id="new-item"
               name="item"
               required="required"
               pattern=".{3,}"
               required
               title="3 characters minimum"/>
        <input type="submit"
               value="Add new item"
               id="add-new-item"/>
      </form>
    </section>

    <section class="items todos">
      <h2>Todo list</h2>
      <ul>
        {{range .}}
        {{if .Done}}
        <li class="todo done">
          <span class="item-name">
            <s>{{.Name}}</s>
          </span>
          <form method="post" action="/not-done">
            <input type="hidden" name="item" value="{{.Name}}"/>
            <input class="uncomplete"
                   type="submit"
                   value="Mark not done '{{.Name}}'" />
          </form>
          <form method="post" action="/delete">
            <input type="hidden" name="item" value="{{.Name}}"/>
            <input class="delete"
                   type="submit"
                   value="Delete '{{.Name}}'" />
          </form>
        </li>
        {{else}}
        <li class="todo">
          <span class="item-name">
            {{.Name}}
          </span>
          <form method="post" action="/done">
            <input type="hidden" name="item" value="{{.Name}}"/>
            <input class="complete"
                   type="submit"
                   value="Mark done '{{.Name}}'" />
          </form>
          <form method="post" action="/delete">
            <input type="hidden" name="item" value="{{.Name}}"/>
            <input class="delete"
                   type="submit"
                   value="Delete '{{.Name}}'" />
          </form>
        </li>
        {{end}}
        {{end}}
      </ul>
    </section>
  </body>
</html>
