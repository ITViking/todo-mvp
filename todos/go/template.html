<html>
<head>
    <style>
        li[data-done="true"] {
            text-decoration: line-through;
        }
    </style>
</head>
<body>
<h1>Todo MVP</h1>

<form method="POST">
    <label for="new-item">New item name</label>
    <input type="text" name="item" required="required" pattern=".{3,}" required title="3 characters minimum"/>
    <input type="submit" value="Add new item"/>
</form>

<h2>Todo</h2>
<ul>
{{range .}}
    {{if .Done}}
        <li data-done="true">{{.Name}}</li>
    {{else}}
        <li>{{.Name}}
            <form method="post" action="done">
                <input type="hidden" name="item" value="{{.Name}}"/>
                <input type="submit" value="Done" />
            </form>
            <form method="post" action="delete">
                <input type="hidden" name="item" value="{{.Name}}"/>
                <input type="submit" value="Delete" />
            </form>
        </li>
    {{end}}
{{end}}
</ul>
</body>
</html>
